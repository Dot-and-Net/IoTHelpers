@using IoTService.Models;

@{
    ViewBag.Title = "Rover Remote Control";
}

<h2>@ViewBag.Title</h2>

<div class="row">
    <div class="col-xs-4"></div>
    <div class="col-xs-4"><button class="btn btn-lg" data-movement="@((int)RoverMovementType.Forward)"><span class="glyphicon glyphicon-arrow-up"></span></button></div>
    <div class="col-xs-4"></div>
</div>
<div class="row">
    <div class="col-xs-4"><button class="btn btn-lg" data-movement="@((int)RoverMovementType.RotateLeft)"><span class="glyphicon glyphicon-arrow-left"></span></button></div>
    <div class="col-xs-4"></div>
    <div class="col-xs-4"><button class="btn btn-lg" data-movement="@((int)RoverMovementType.RotateRight)"><span class="glyphicon glyphicon-arrow-right"></span></button></div>
</div>
<div class="row">
    <div class="col-xs-4"></div>
    <div class="col-xs-4"><button class="btn btn-lg" data-movement="@((int)RoverMovementType.Backward)"><span class="glyphicon glyphicon-arrow-down"></span></button></div>
    <div class="col-xs-4"></div>
</div>
<div class="row">
    <div class="col-xs-6"><button class="btn btn-lg" data-movement="@((int)RoverMovementType.Autopilot)"><span class="glyphicon glyphicon-plane"></span></button></div>
    <div class="col-lg-12 pull-right"><button class="btn btn-lg" data-movement="@((int)RoverMovementType.Stop)"><span class="glyphicon glyphicon-ban-circle"></span></button></div>
</div>

@section scripts
{
    <script type="text/javascript">
        $(document).ready(function () {
            $("button").click(function (e) {
                var movement =
                    {
                        movement: $(this).data('movement')
                    };

                $.ajax({
                    type: "POST",
                    url: '@Url.HttpRouteUrl("MoveRover", null)',
                    data: JSON.stringify(movement),
                    contentType: "application/json; charset=utf-8"
                });
            });
        });
    </script>
}




